<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
    <title>Fiche de le√ßon Maths 4e ¬∑ Togo ¬∑ Programme officiel complet</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-dark: #0b4d3a;
            --primary: #1b6e54;
            --primary-light: #d0f0e4;
            --accent: #f3b33d;
            --bg-light: #f0f8f5;
            --text: #1b4637;
            --white: #ffffff;
            --shadow: 0 10px 20px -8px rgba(0,40,20,0.25);
        }

        body {
            font-family: 'Inter', 'Segoe UI', Roboto, system-ui, sans-serif;
            background: var(--bg-light);
            color: var(--text);
            line-height: 1.5;
            padding: 1rem;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* BANDEAU RESPONSIVE */
        .bandeau {
            background: linear-gradient(148deg, var(--primary-dark), var(--primary));
            color: white;
            border-radius: clamp(20px, 5vw, 40px);
            padding: clamp(1.2rem, 4vw, 2rem) clamp(1.5rem, 5vw, 2.8rem);
            margin-bottom: clamp(1.5rem, 4vw, 2.8rem);
            box-shadow: var(--shadow);
            width: 100%;
        }

        .bandeau h1 {
            font-size: clamp(1.1rem, 5vw, 1.9rem);
            font-weight: 600;
            line-height: 1.3;
            word-break: break-word;
        }

        .bandeau h2 {
            font-size: clamp(0.95rem, 4vw, 1.3rem);
            font-weight: 400;
            margin-top: 0.5rem;
        }

        .badge-prog {
            background: var(--accent);
            color: var(--primary-dark);
            font-weight: 800;
            padding: 0.4rem clamp(1rem, 3vw, 2.2rem);
            border-radius: 60px;
            display: inline-block;
            margin-top: 1rem;
            font-size: clamp(0.7rem, 3vw, 1rem);
            box-shadow: 0 4px 8px #b57f1a;
            white-space: normal;
            text-align: center;
        }

        /* CARTE G√âN√âRATEUR */
        .card-outil {
            background: var(--white);
            border-radius: clamp(20px, 5vw, 40px);
            padding: clamp(1.2rem, 4vw, 2.4rem) clamp(1.2rem, 4vw, 3rem);
            margin-bottom: clamp(1.8rem, 5vw, 2.8rem);
            border: 2px solid #c3e3d6;
            box-shadow: var(--shadow);
            width: 100%;
        }

        .card-outil h3 {
            font-size: clamp(1.3rem, 5vw, 2rem);
            color: var(--primary);
            border-bottom: 4px solid #c4ecd9;
            padding-bottom: 0.8rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            flex-wrap: wrap;
            word-break: break-word;
        }

        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: flex-end;
        }

        .form-group {
            flex: 1 1 200px;
            min-width: 160px;
        }

        .form-group label {
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 5px;
            display: block;
            font-size: clamp(0.85rem, 3vw, 1rem);
        }

        .form-group select, .form-group input {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 2px solid #c6e2d7;
            border-radius: 50px;
            font-size: clamp(0.9rem, 3vw, 1rem);
            background: #f9fffd;
            transition: 0.2s;
        }

        .form-group select:focus, .form-group input:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(27,110,84,0.2);
        }

        .btn-generer {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.9rem 1.5rem;
            border-radius: 60px;
            font-weight: 700;
            font-size: clamp(1.1rem, 4vw, 1.5rem);
            width: 100%;
            margin-top: 1.5rem;
            cursor: pointer;
            transition: 0.2s;
            box-shadow: 0 15px 25px -10px var(--primary);
            white-space: normal;
            line-height: 1.3;
        }

        .btn-generer:hover {
            background: #0f543f;
            transform: translateY(-2px);
        }

        /* FICHE G√âN√âR√âE */
        .fiche-finale {
            background: var(--white);
            border-radius: clamp(25px, 6vw, 60px);
            padding: clamp(1.2rem, 4vw, 3rem) clamp(1.2rem, 4vw, 3.5rem);
            border: 4px solid #a5d7c4;
            margin-top: 2rem;
            box-shadow: var(--shadow);
            width: 100%;
            overflow-x: hidden;
        }

        .hidden {
            display: none !important;
        }

        .fiche-header {
            text-align: center;
            border-bottom: 3px dashed var(--primary);
            padding-bottom: 1rem;
            margin-bottom: 2rem;
        }

        .fiche-header h2 {
            font-size: clamp(1.6rem, 6vw, 2.6rem);
            color: var(--primary);
            font-weight: 700;
            word-break: break-word;
        }

        /* sections guide */
        .section-guide {
            background: #f6fdfa;
            border-radius: clamp(18px, 4vw, 40px);
            padding: clamp(1rem, 3vw, 1.8rem) clamp(1.2rem, 4vw, 2.5rem);
            margin-bottom: 1.8rem;
            border-left: clamp(8px, 2vw, 16px) solid var(--primary);
            box-shadow: 0 6px 12px #c1ddd1;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .section-guide h4 {
            font-size: clamp(1.1rem, 4vw, 1.5rem);
            color: #1a5b45;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
        }

        .badge-consigne {
            background: #fef7e5;
            border-left: clamp(4px, 1.5vw, 8px) solid var(--accent);
            padding: clamp(0.8rem, 2vw, 1.2rem) clamp(1rem, 3vw, 2rem);
            border-radius: 30px;
            font-size: clamp(0.9rem, 3vw, 1.05rem);
            margin: 1rem 0;
            box-shadow: 0 3px 8px #d9e6df;
            word-break: break-word;
        }

        .bullet-list {
            margin-left: 1.2rem;
            line-height: 1.6;
            font-size: clamp(0.9rem, 2.5vw, 1rem);
            padding-right: 0.5rem;
        }

        .bullet-list li {
            margin-bottom: 0.4rem;
            word-break: break-word;
        }

        /* tableau responsive */
        .table-cap {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 8px 16px #c4ddd1;
            margin-top: 1rem;
            font-size: clamp(0.8rem, 2.5vw, 0.95rem);
        }

        .table-cap th {
            background: var(--primary);
            color: white;
            font-weight: 600;
            padding: 10px 8px;
            text-align: left;
        }

        .table-cap td {
            border: 1px solid #b7dbc9;
            padding: 10px 8px;
            vertical-align: top;
            word-break: break-word;
        }

        /* actions */
        .actions {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
            margin-top: 2rem;
            justify-content: center;
        }

        .btn-print {
            background: white;
            border: 2px solid var(--primary);
            border-radius: 60px;
            padding: 0.6rem 1.2rem;
            font-weight: 700;
            font-size: clamp(0.9rem, 3vw, 1.1rem);
            cursor: pointer;
            transition: 0.2s;
            min-width: 120px;
            flex: 1 0 auto;
            max-width: 200px;
            white-space: nowrap;
        }

        .btn-print:hover {
            background: #e2f3eb;
        }

        @media (max-width: 480px) {
            body { padding: 0.5rem; }
            .btn-print { white-space: normal; min-width: unset; flex-basis: 100%; }
            .form-group { flex-basis: 100%; }
        }

        @media print {
            .no-print, .card-outil, .actions { display: none !important; }
            .fiche-finale { border: none; box-shadow: none; padding: 1.2cm; }
            .section-guide { break-inside: avoid; }
        }
    </style>
</head>
<body>
<div class="container">
    <!-- BANDEAU OFFICIEL 4√®me -->
    <div class="bandeau no-print">
        <h1>üáπüá¨ MINIST√àRE DES ENSEIGNEMENTS PRIMAIRE ET SECONDAIRE</h1>
        <h2>R√âPUBLIQUE TOGOLAISE ‚Äì Travail-Libert√©-Patrie ‚Äì PROGRAMME 4e (PAREC 2018-2019)</h2>
        <div class="badge-prog">MATH√âMATIQUES 4√®me ‚Äì GUIDE D'EX√âCUTION INT√âGRAL</div>
        <p style="margin-top:1rem; font-size:clamp(0.9rem,3vw,1.2rem);">Perspective ¬∑ Droites/plans ¬∑ Sph√®re ¬∑ Distance ¬∑ Angles ¬∑ Cercles ¬∑ Triangles ¬∑ Polygones r√©guliers ¬∑ Sym√©tries ¬∑ Projection ¬∑ Translation ¬∑ Vecteurs ¬∑ Rep√©rage ¬∑ Nombres rationnels ¬∑ Calcul approch√© ¬∑ Expressions alg√©briques ¬∑ √âquations ¬∑ In√©quations ¬∑ Proportionnalit√© ¬∑ Statistiques</p>
    </div>

    <!-- G√âN√âRATEUR -->
    <div class="card-outil no-print">
        <h3>üìò G√âN√âRATEUR DE FICHE ‚Äì PROGRAMME 4√®me TOGO</h3>
        <div class="form-row">
            <div class="form-group">
                <label>üìå Le√ßon</label>
                <select id="leconSelect">
                    <option value="">-- Choisir une le√ßon --</option>
                    <optgroup label="‚öôÔ∏è Configurations espace">
                        <option value="perspective-cavaliere">Perspective cavali√®re</option>
                        <option value="droites-plans">Droites et plans de l'espace, positions relatives</option>
                        <option value="sphere">Sph√®re</option>
                    </optgroup>
                    <optgroup label="üìê Configurations plan">
                        <option value="distance-droites">Distance et droites (point √† une droite, axe m√©dian, bissectrice)</option>
                        <option value="angles-cercles-4e">Angles, cercles (parall√®les/s√©cante, tangente, positions relatives)</option>
                        <option value="triangles-4e">Triangles (droite des milieux, points particuliers, Pythagore)</option>
                        <option value="polygones-reguliers">Polygones r√©guliers (triangle √©quilat√©ral, hexagone, carr√©, octogone)</option>
                    </optgroup>
                    <optgroup label="üîÑ Applications plan">
                        <option value="symetries-4e">Sym√©trie orthogonale, sym√©trie centrale</option>
                        <option value="projection">Projection</option>
                        <option value="translation">Translation</option>
                    </optgroup>
                    <optgroup label="üìê Outil vectoriel / g√©om√©trie analytique">
                        <option value="vecteurs">Vecteurs (somme, Chasles, caract√©risations)</option>
                        <option value="reperage-4e">Rep√©rage (rep√®re orthogonal, orthonorm√©, coordonn√©es)</option>
                    </optgroup>
                    <optgroup label="üßÆ Calcul num√©rique">
                        <option value="rationnels">Nombres rationnels (PPCM, PGCD, fractions, puissances)</option>
                        <option value="decimaux-approche">Nombres d√©cimaux, calcul approch√© (puissances de 10, troncature, arrondi)</option>
                    </optgroup>
                    <optgroup label="üìù Calcul litt√©ral">
                        <option value="expressions-algebriques">Calcul sur les expressions alg√©briques (produits remarquables)</option>
                        <option value="equations-inequations">√âquations ‚Äì In√©quations (ax+b=0, ax+b<0 dans ‚Ñö)</option>
                    </optgroup>
                    <optgroup label="üìä Organisation donn√©es">
                        <option value="proportionnalite-4e">Proportionnalit√© (propri√©t√© des proportions, probl√®mes)</option>
                        <option value="statistiques">Statistiques (effectifs, fr√©quences, moyenne, diagrammes)</option>
                    </optgroup>
                </select>
            </div>
            <div class="form-group">
                <label>‚è±Ô∏è Dur√©e</label>
                <input type="text" id="dureeField" value="6 heures" placeholder="ex: 8h">
            </div>
            <div class="form-group">
                <label>üìÖ Date</label>
                <input type="date" id="dateField">
            </div>
        </div>
        <button class="btn-generer" id="btnGenerer">‚ú® G√âN√âRER LA FICHE (contenus ¬∑ strat√©gies ¬∑ consignes ¬∑ √©valuation)</button>
    </div>

    <!-- FICHE G√âN√âR√âE -->
    <div class="fiche-finale hidden" id="ficheGeneree">
        <div id="contenuFiche"></div>
        <div class="actions no-print">
            <button class="btn-print" onclick="window.print()">üñ®Ô∏è Imprimer</button>
            <button class="btn-print" onclick="alert('Imprimer ‚Üí Enregistrer en PDF')">üìÑ PDF</button>
            <button class="btn-print" onclick="exportWord()">üìù Word</button>
            <button class="btn-print" onclick="resetFiche()">üîÑ Nouvelle</button>
        </div>
        <div style="margin-top:1.5rem; background:#fdf3da; padding:0.8rem 1.5rem; border-radius:60px; font-size:clamp(0.8rem,2.5vw,0.95rem); text-align:center;" class="no-print">
            ‚ö° Fiche conforme au programme officiel de 4√®me ‚Äì Guide d'ex√©cution int√©gr√©.
        </div>
    </div>
</div>

<script>
(function() {
    // ==================== BASE DE DONN√âES COMPL√àTE CLASSE DE 4√®me ====================
    const lecons = {
        // --- PERSPECTIVE CAVALI√àRE ---
        'perspective-cavaliere': {
            theme: 'Configurations de l\'espace',
            titre: 'Perspective cavali√®re',
            contenusSynth: [
                'R√®gles √©l√©mentaires de la perspective cavali√®re',
                'Repr√©sentation de certains solides : cube, prisme, pav√© droit'
            ],
            strategies: [
                'Travail individuel ou en petits groupes : observation et manipulations de solides ou de leurs repr√©sentations',
                'D√©couverte des r√®gles de la perspective cavali√®re √† partir de solides √©tudi√©s'
            ],
            consignes: [
                'Utiliser les solides d√©j√† √©tudi√©s ou leurs repr√©sentations pour faire d√©couvrir les r√®gles de la perspective cavali√®re',
                'Veiller √† ce que chaque apprenant repr√©sente personnellement un solide en perspective cavali√®re'
            ],
            evaluation: [
                'Identification : d\'un plan vertical de face, d\'un plan vertical de profil, d\'un plan horizontal',
                'Repr√©sentation de certains solides : cube, prisme, pav√© droit'
            ],
            capacitesDetails: [
                { capacite: 'Repr√©senter en perspective cavali√®re', contenu: 'R√®gles √©l√©mentaires de la perspective cavali√®re ‚Äì Repr√©sentation de certains solides : cube, prisme, pav√© droit' }
            ],
            prerequis: ['Solides de l\'espace (cube, pav√©, prisme)', 'Patrons'],
            materiel: ['Solides en bois/plastique', ' papier quadrill√©', 'r√®gle, √©querre']
        },
        // --- DROITES ET PLANS DE L'ESPACE ---
        'droites-plans': {
            theme: 'Configurations de l\'espace',
            titre: 'Droites et plans de l\'espace, positions relatives',
            contenusSynth: [
                'Notion de droite, de plan de l‚Äôespace',
                'D√©terminations d‚Äôune droite, d‚Äôun plan',
                'Positions relatives : droite s√©cante √† un plan, droite perpendiculaire √† un plan, droite parall√®le √† un plan',
                'Plans parall√®les, plans s√©cants (intersection), plans perpendiculaires',
                'Droites coplanaires, droites non coplanaires',
                'Propri√©t√©s'
            ],
            strategies: [
                'Travail individuel ou en petits groupes : observation et manipulations de solides ou de leurs repr√©sentations',
                'Sur un solide ou sa repr√©sentation, faire distinguer et nommer des droites, des plans'
            ],
            consignes: [
                'Sur un solide ou sa repr√©sentation, faire distinguer et nommer par les √©l√®ves des droites, des plans (pr√©voir mat√©riel individuel et collectif)',
                'Faire ressortir l‚Äôimportance de la l√©gende ou des codages pour d√©crypter une figure',
                'Travailler √† la ma√Ætrise des instruments de g√©om√©trie'
            ],
            evaluation: [
                'Reconnaissance de droites, de plans de l‚Äôespace',
                'Utilisation du vocabulaire appropri√© pour d√©crire des configurations',
                'Reconnaissance des positions relatives de droites et de plans',
                'Construction du point d‚Äôintersection d‚Äôune droite et d‚Äôun plan, de deux droites s√©cantes, de la droite d‚Äôintersection de deux plans s√©cants'
            ],
            capacitesDetails: [
                { capacite: 'Identifier et nommer des droites et des plans', contenu: 'Notion de droite, de plan de l‚Äôespace ‚Äì D√©terminations d‚Äôune droite, d‚Äôun plan' },
                { capacite: 'Reconna√Ætre les positions relatives d‚Äôune droite et d‚Äôun plan', contenu: 'Droite s√©cante √† un plan ‚Äì Droite perpendiculaire √† un plan ‚Äì Droite parall√®le √† un plan ‚Äì Propri√©t√©s' },
                { capacite: 'Reconna√Ætre les positions relatives de deux plans', contenu: 'Plans parall√®les ‚Äì Plans s√©cants, intersection ‚Äì Plans perpendiculaires ‚Äì Propri√©t√©s' },
                { capacite: 'Reconna√Ætre les positions relatives de deux droites', contenu: 'Droites coplanaires ‚Äì Droites non coplanaires ‚Äì Propri√©t√©s' }
            ],
            prerequis: ['G√©om√©trie dans l‚Äôespace (6e/5e)', 'Notions de parall√©lisme/perpendicularit√©'],
            materiel: ['Solides (cube, pav√©, prisme)', 'repr√©sentations en perspective', 'r√®gle, √©querre']
        },
        // --- SPH√àRE ---
        'sphere': {
            theme: 'Configurations de l\'espace',
            titre: 'Sph√®re',
            contenusSynth: [
                'Sph√®re : d√©finition, vocabulaire, caract√©ristiques',
                'Aire d‚Äôune sph√®re',
                'Volume d‚Äôune boule'
            ],
            strategies: [
                'Travail individuel ou en petits groupes : observation r√©elle du solide (ballon, bille)',
                'D√©couverte des √©l√©ments caract√©ristiques'
            ],
            consignes: [
                'Mettre la classe en situation d‚Äôobservation r√©elle du solide (pr√©voir mat√©riel individuel et collectif)',
                'Faire distinguer et nommer les diff√©rentes parties'
            ],
            evaluation: [
                'Reconnaissance d‚Äôune sph√®re dans un groupe de solides',
                'D√©signation par leurs noms des diff√©rentes parties',
                'Calcul des grandeurs par application des formules'
            ],
            capacitesDetails: [
                { capacite: 'Reconna√Ætre/Identifier un solide', contenu: 'Sph√®re : d√©finition, vocabulaire, caract√©ristiques du solide' },
                { capacite: 'D√©crire un solide', contenu: 'Vocabulaire sp√©cifique √† la sph√®re' },
                { capacite: 'Calculer des grandeurs', contenu: 'Aire d‚Äôune sph√®re ‚Äì Volume d‚Äôune boule' }
            ],
            prerequis: ['Cercle', 'Solides ronds'],
            materiel: ['Ballon, bille', 'Fiches formules']
        },
        // --- DISTANCE ET DROITES (point √† une droite, axe m√©dian, bissectrice) ---
        'distance-droites': {
            theme: 'Configurations du plan',
            titre: 'Distance et droites',
            contenusSynth: [
                'Distance d‚Äôun point √† une droite',
                'Distance de deux droites',
                'Ensemble des points √† √©gale distance d‚Äôune droite donn√©e',
                'Ensemble des points √©quidistants de deux droites : axe m√©dian (droites parall√®les), bissectrice (droites s√©cantes)',
                'Propri√©t√©s'
            ],
            strategies: [
                'Observation et manipulation en petits groupes (lieu de la situation probl√®me)',
                'M√©thode d√©monstrative ; faire faire (travail individuel)'
            ],
            consignes: [
                'Faire ressortir que : la distance d‚Äôun point √† une droite est la plus courte distance de ce point √† un point de la droite ; la distance de deux droites est la plus courte distance entre un point de l‚Äôune et un point de l‚Äôautre',
                'Travailler √† la ma√Ætrise des instruments'
            ],
            evaluation: [
                'D√©termination de la distance d‚Äôun point √† une droite, de deux droites',
                'D√©termination de l‚Äôensemble des points situ√©s √† une m√™me distance d‚Äôune droite donn√©e',
                'D√©termination de l‚Äôensemble des points √©quidistants de deux droites donn√©es',
                'Construction/reproduction de configurations pr√©vues'
            ],
            capacitesDetails: [
                { capacite: 'D√©terminer la distance d‚Äôun point √† une droite', contenu: 'Distance d‚Äôun point √† une droite ‚Äì Propri√©t√©s' },
                { capacite: 'D√©terminer la distance de deux droites', contenu: 'Distance de deux droites ‚Äì Propri√©t√©s' },
                { capacite: 'Construire', contenu: 'Ensemble des points √† √©gale distance d‚Äôune droite donn√©e ‚Äì Ensemble des points √©quidistants de deux droites : axe m√©dian (parall√®les), bissectrice (s√©cantes)' },
                { capacite: 'Justifier/d√©montrer', contenu: 'Appartenance d‚Äôun point √† une droite (axe m√©dian, bissectrice) ‚Äì Nature d‚Äôune droite (axe m√©dian, bissectrice)' }
            ],
            prerequis: ['Distance, m√©diatrice (5e)', 'Angles, droites parall√®les/s√©cantes'],
            materiel: ['R√®gle, √©querre, compas, rapporteur']
        },
        // --- ANGLES, CERCLES (4e) ---
        'angles-cercles-4e': {
            theme: 'Configurations du plan',
            titre: 'Angles, cercles',
            contenusSynth: [
                'Angles form√©s par deux droites parall√®les et une s√©cante : alternes-internes, alternes-externes, correspondants',
                'Angle au centre d‚Äôun cercle',
                'Arc de cercle intercept√©',
                'Positions relatives d‚Äôune droite et d‚Äôun cercle (s√©cante, tangente, disjoints)',
                'Positions relatives de deux cercles (s√©cants, tangents, disjoints)',
                'Construction de la tangente √† un cercle passant par un point donn√© (sur le cercle ou ext√©rieur)'
            ],
            strategies: [
                'Observation et manipulation en petits groupes',
                'Faire nommer les diff√©rentes configurations',
                'Faire utiliser le vocabulaire appropri√©'
            ],
            consignes: [
                'Renforcer et clarifier les notions d‚Äôangles d√©j√† install√©es en classe de 5e',
                'Faire nommer : angles alternes-internes, alternes-externes, correspondants ; angles au centre d‚Äôun cercle',
                'Travailler √† la ma√Ætrise des instruments de g√©om√©trie'
            ],
            evaluation: [
                'Identification : angles alternes-internes, alternes-externes, correspondants ; angle au centre ; arc intercept√©',
                'Reconnaissance des positions relatives d‚Äôune droite et d‚Äôun cercle, de deux cercles',
                'Construction de la tangente √† un cercle'
            ],
            capacitesDetails: [
                { capacite: 'Reconna√Ætre/Identifier', contenu: 'Angles form√©s par deux droites parall√®les et une s√©cante (alternes-internes, alternes-externes, correspondants) ‚Äì Angle au centre d‚Äôun cercle ‚Äì Arc de cercle intercept√©' },
                { capacite: 'Reconna√Ætre les positions relatives', contenu: 'Positions relatives d‚Äôune droite et d‚Äôun cercle : s√©cante, tangente, disjoints ‚Äì Positions relatives de deux cercles : s√©cants, tangents, disjoints' },
                { capacite: 'Construire la tangente √† un cercle', contenu: 'Construction d‚Äôune tangente √† un cercle passant par un point donn√© : du cercle, ext√©rieur au cercle' },
                { capacite: 'Justifier/d√©montrer', contenu: '√âgalit√© angulaire ‚Äì Nature de deux angles (alternes-internes, alternes-externes, correspondants) ‚Äì Parall√©lisme de deux droites' }
            ],
            prerequis: ['Angles (5e)', 'Cercle (6e/5e)'],
            materiel: ['Rapporteurs, compas, r√®gles, √©querres']
        },
        // --- TRIANGLES (4e) : droite des milieux, points particuliers, Pythagore ---
        'triangles-4e': {
            theme: 'Configurations du plan',
            titre: 'Triangles',
            contenusSynth: [
                'Droite des milieux (propri√©t√©s directe et r√©ciproque)',
                'Droites et points particuliers d‚Äôun triangle : m√©diatrices et centre du cercle circonscrit, bissectrices et centre du cercle inscrit, hauteurs et orthocentre, m√©dianes et centre de gravit√©',
                'Th√©or√®me de Pythagore (direct et r√©ciproque)',
                'Propri√©t√©s m√©triques dans un triangle rectangle relatives √† l‚Äôaire'
            ],
            strategies: [
                'Observation et manipulation en petits groupes',
                'Faire conjecturer les √©l√®ves √† partir de leurs exemples',
                'M√©thode d√©monstrative ; travail individuel'
            ],
            consignes: [
                'Renforcer et clarifier les notions d√©j√† install√©es en 5e',
                'Faire conjecturer les √©l√®ves √† partir de leurs exemples',
                'Travailler √† la ma√Ætrise des instruments de g√©om√©trie'
            ],
            evaluation: [
                'Identification : droite des milieux, points particuliers',
                'Calcul de distances, de longueurs, application du th√©or√®me de Pythagore',
                'Justification de la nature d‚Äôun point, du parall√©lisme, de la nature d‚Äôun triangle'
            ],
            capacitesDetails: [
                { capacite: 'Reconna√Ætre/Identifier', contenu: 'Droite des milieux (propri√©t√©s directe et r√©ciproque) ‚Äì Droites et points particuliers d‚Äôun triangle (m√©diatrices/centre circonscrit, bissectrices/centre inscrit, hauteurs/orthocentre, m√©dianes/centre de gravit√©)' },
                { capacite: 'Construire/Reproduire', contenu: 'Droite des milieux ‚Äì Droites et points particuliers' },
                { capacite: 'Calculer', contenu: 'Distance de deux points, longueur d‚Äôun segment, c√¥t√©s d‚Äôun triangle rectangle (droite des milieux, th√©or√®me de Pythagore, propri√©t√©s m√©triques relatives √† l‚Äôaire)' },
                { capacite: 'Justifier/d√©montrer', contenu: 'Nature d‚Äôun point (milieu, orthocentre, centre de gravit√©, centre du cercle circonscrit/inscrit) ‚Äì Nature d‚Äôun triangle (th√©or√®me de Pythagore et r√©ciproque) ‚Äì Parall√©lisme de deux droites (droite des milieux)' }
            ],
            prerequis: ['Triangles (5e)', 'Angles, parall√©lisme'],
            materiel: ['R√®gle, √©querre, compas, rapporteur']
        },
        // --- POLYGONES R√âGULIERS ---
        'polygones-reguliers': {
            theme: 'Configurations du plan',
            titre: 'Polygones r√©guliers',
            contenusSynth: [
                'Triangle √©quilat√©ral et hexagone',
                'Carr√© et octogone'
            ],
            strategies: [
                'Observation et manipulation en petits groupes',
                'M√©thode d√©monstrative ; travail individuel'
            ],
            consignes: [
                'Renforcer et clarifier les notions d√©j√† install√©es en 5e',
                'Faire d√©couvrir par les √©l√®ves les √©l√©ments de sym√©trie des polygones particuliers'
            ],
            evaluation: [
                'Identification : polygones r√©guliers (triangle √©quilat√©ral, carr√©, hexagone, octogone)',
                'Reconnaissance d‚Äôun √©l√©ment de sym√©trie d‚Äôune configuration',
                'Construction/reproduction de configurations pr√©vues'
            ],
            capacitesDetails: [
                { capacite: 'Reconna√Ætre/Identifier', contenu: 'Triangle √©quilat√©ral et hexagone ‚Äì Carr√© et octogone' },
                { capacite: 'Construire/Reproduire', contenu: 'Triangle √©quilat√©ral, hexagone, carr√©, octogone ‚Äì √âl√©ments de sym√©trie (axe, centre)' },
                { capacite: 'Justifier/d√©montrer', contenu: 'Nature d‚Äôun polygone' }
            ],
            prerequis: ['Polygones (5e)', 'Sym√©trie'],
            materiel: ['R√®gle, compas, √©querre']
        },
        // --- SYM√âTRIE ORTHOGONALE, SYM√âTRIE CENTRALE (4e) ---
        'symetries-4e': {
            theme: 'Applications du plan',
            titre: 'Sym√©trie orthogonale, sym√©trie centrale',
            contenusSynth: [
                'Pr√©sentation et vocabulaire (√©l√©ment caract√©ristique : axe, centre)',
                'Tableaux de correspondance',
                'Image d‚Äôune configuration par une sym√©trie (orthogonale, centrale)',
                'Utilisation des sym√©tries pour calculer distances, angles, aires',
                'Utilisation pour justifier une propri√©t√©, un programme de construction'
            ],
            strategies: [
                'Observation et manipulation en petits groupes',
                'M√©thode d√©monstrative ; travail individuel',
                'Mat√©rialiser une sym√©trie par le tableau de correspondance'
            ],
            consignes: [
                'Faire observer la correspondance qui lie un point √† son sym√©trique',
                'S‚Äôassurer que les √©l√®ves ma√Ætrisent le programme de construction d√©j√† utilis√© en 6e/5e',
                'Travailler √† la ma√Ætrise des instruments de g√©om√©trie'
            ],
            evaluation: [
                'Reconnaissance d‚Äôune sym√©trie (orthogonale, centrale)',
                'Identification de l‚Äô√©l√©ment caract√©ristique (axe, centre)',
                'Construction de l‚Äôimage par une sym√©trie des configurations d√©j√† √©tudi√©es',
                'Justification d‚Äôune propri√©t√©, d‚Äôun programme de construction'
            ],
            capacitesDetails: [
                { capacite: 'Reconna√Ætre/Identifier', contenu: 'Sym√©trie orthogonale, sym√©trie centrale : pr√©sentation et vocabulaire ‚Äì Tableaux de correspondance' },
                { capacite: 'Construire', contenu: 'Image d‚Äôune configuration par une sym√©trie orthogonale, une sym√©trie centrale' },
                { capacite: 'Calculer des grandeurs', contenu: 'Utilisation des sym√©tries pour calculer : distances, mesures d‚Äôangle, aires' },
                { capacite: 'Justifier/d√©montrer', contenu: 'Utilisation des sym√©tries pour justifier : une propri√©t√© d‚Äôune configuration, un programme de construction' }
            ],
            prerequis: ['Sym√©tries (6e/5e)'],
            materiel: ['Papier calque, r√®gle, √©querre, compas']
        },
        // --- PROJECTION ---
        'projection': {
            theme: 'Applications du plan',
            titre: 'Projection',
            contenusSynth: [
                'Pr√©sentation et vocabulaire (projection, axe, direction)',
                'Tableaux de correspondance',
                'Image d‚Äôun segment par une projection',
                'Projet√© du milieu',
                'Partage d‚Äôun segment en segments de m√™me longueur'
            ],
            strategies: [
                'Observation et manipulation en petits groupes',
                'Mat√©rialiser une projection par le tableau de correspondance'
            ],
            consignes: [
                'Faire observer la correspondance qui lie un point √† son projet√©',
                'Travailler √† la ma√Ætrise des instruments de g√©om√©trie'
            ],
            evaluation: [
                'Reconnaissance d‚Äôune projection',
                'Identification des √©l√©ments caract√©ristiques (axe, direction)',
                'Construction de l‚Äôimage d‚Äôun segment par une projection, du projet√© du milieu'
            ],
            capacitesDetails: [
                { capacite: 'Reconna√Ætre/Identifier', contenu: 'Projection : pr√©sentation et vocabulaire ‚Äì Tableaux de correspondance' },
                { capacite: 'Construire', contenu: 'Image d‚Äôun segment par une projection ‚Äì Projet√© du milieu ‚Äì Partage d‚Äôun segment en segments de m√™me longueur' },
                { capacite: 'Justifier/d√©montrer', contenu: 'Nature d‚Äôun point (milieu d‚Äôun segment)' }
            ],
            prerequis: ['Parall√©lisme, milieux'],
            materiel: ['R√®gle, √©querre, papier quadrill√©']
        },
        // --- TRANSLATION ---
        'translation': {
            theme: 'Applications du plan',
            titre: 'Translation',
            contenusSynth: [
                'Pr√©sentation et vocabulaire (translation, vecteur)',
                'Tableaux de correspondance',
                'Image d‚Äôune configuration par une translation : point, droite, segment, demi-droite, angle, triangle, cercle',
                'Propri√©t√©s de conservation : distances, angles, alignement, parall√©lisme, perpendicularit√©'
            ],
            strategies: [
                'Observation et manipulation en petits groupes',
                'S‚Äôappuyer sur des situations comme le d√©placement d‚Äôune figure le long d‚Äôune droite',
                'Demander aux √©l√®ves, pour une translation qui applique A sur A‚Äô et B sur B‚Äô, de conjecturer la nature du quadrilat√®re AA‚ÄôB‚ÄôB'
            ],
            consignes: [
                'Mat√©rialiser une translation par le tableau de correspondance',
                'Travailler √† la ma√Ætrise des instruments de g√©om√©trie'
            ],
            evaluation: [
                'Reconnaissance d‚Äôune translation ; identification des √©l√©ments caract√©ristiques (vecteur)',
                'Construction de l‚Äôimage par une translation des configurations d√©j√† √©tudi√©es',
                'Justification de l‚Äô√©galit√© de distances, de l‚Äô√©galit√© angulaire, de l‚Äôalignement, du parall√©lisme, de la perpendicularit√©'
            ],
            capacitesDetails: [
                { capacite: 'Reconna√Ætre/Identifier', contenu: 'Translation : pr√©sentation et vocabulaire ‚Äì Tableaux de correspondance' },
                { capacite: 'Construire', contenu: 'Image d‚Äôune configuration par une translation : point, droite, segment, demi-droite, angle, triangle, cercle' },
                { capacite: 'Justifier/d√©montrer', contenu: '√âgalit√© de distances (conservation) ‚Äì √âgalit√© angulaire (conservation) ‚Äì Alignement de trois points (conservation) ‚Äì Parall√©lisme de deux droites (conservation) ‚Äì Perpendicularit√© de deux droites (conservation)' }
            ],
            prerequis: ['Parall√©logrammes', 'Vecteurs (notion intuitive)'],
            materiel: ['R√®gle, √©querre, compas, papier calque']
        },
        // --- VECTEURS ---
        'vecteurs': {
            theme: 'Outil vectoriel, g√©om√©trie analytique',
            titre: 'Vecteurs',
            contenusSynth: [
                'Notion de vecteur (direction, sens, longueur), repr√©sentant',
                'Vecteurs √©gaux',
                'Oppos√© d‚Äôun vecteur, vecteur nul',
                'Somme de vecteurs, √©galit√© de Chasles',
                'Caract√©risations vectorielles : milieu, parall√©logramme'
            ],
            strategies: [
                'Observation et manipulation en petits groupes',
                'Utiliser les couples form√©s d‚Äôun point et de son image par une translation',
                'Faire observer que la distance, la direction et le sens permettent de regrouper des couples de points'
            ],
            consignes: [
                'Mat√©rialiser un vecteur par un repr√©sentant',
                'Travailler √† la ma√Ætrise des instruments de g√©om√©trie',
                'Investir toute situation utile √† l‚Äôentra√Ænement √† la justification'
            ],
            evaluation: [
                'Reconnaissance de droites de m√™me direction, de couples de points de m√™me sens, d‚Äôun vecteur',
                'Construction d‚Äôun repr√©sentant d‚Äôun vecteur, de l‚Äôoppos√©, de la somme de deux vecteurs',
                'Justification de la nature d‚Äôun point (milieu), de la nature d‚Äôun quadrilat√®re (parall√©logramme), de l‚Äô√©galit√© de distances'
            ],
            capacitesDetails: [
                { capacite: 'Reconna√Ætre/Identifier', contenu: 'Notion de vecteur : pr√©sentation (caract√©risation avec la translation), vocabulaire, notation ‚Äì Vecteurs √©gaux ‚Äì Oppos√© d‚Äôun vecteur ‚Äì Vecteur nul' },
                { capacite: 'Construire', contenu: 'Repr√©sentant d‚Äôun vecteur ‚Äì Oppos√© d‚Äôun vecteur ‚Äì √âgalit√© de Chasles, somme de vecteurs' },
                { capacite: 'Justifier/d√©montrer', contenu: 'Milieu (caract√©risation vectorielle) ‚Äì Parall√©logramme (caract√©risation vectorielle) ‚Äì √âgalit√© de distances' }
            ],
            prerequis: ['Translation', 'Parall√©logrammes'],
            materiel: ['R√®gle, √©querre, papier quadrill√©']
        },
        // --- REP√âRAGE (4e) ---
        'reperage-4e': {
            theme: 'Outil vectoriel, g√©om√©trie analytique',
            titre: 'Rep√©rage',
            contenusSynth: [
                'Rep√®re d‚Äôune droite gradu√©e, abscisse',
                'Rep√®re dans le plan (orthogonal, orthonorm√©)',
                'Coordonn√©es d‚Äôun point (abscisse et ordonn√©e)'
            ],
            strategies: [
                'Observation et manipulation en petits groupes',
                'Renforcer et clarifier les notions de rep√©rage d√©j√† install√©es en 6e/5e'
            ],
            consignes: [
                'Faire lire le couple de coordonn√©es d‚Äôun point',
                'Travailler √† la ma√Ætrise des instruments de g√©om√©trie'
            ],
            evaluation: [
                'D√©termination des coordonn√©es d‚Äôun point ‚Äì Lecture du couple de coordonn√©es',
                'Construction d‚Äôun rep√®re (orthogonal, orthonorm√©)',
                'Placement d‚Äôun point dont on conna√Æt les coordonn√©es'
            ],
            capacitesDetails: [
                { capacite: 'D√©terminer les coordonn√©es d‚Äôun point', contenu: 'Rep√®re d‚Äôune droite gradu√©e, abscisse ‚Äì Rep√®re dans le plan (orthogonal, orthonorm√©), coordonn√©es d‚Äôun point (abscisse et ordonn√©e)' },
                { capacite: 'Construire', contenu: 'Rep√®re orthogonal, orthonorm√© ‚Äì Point dont on conna√Æt les coordonn√©es' }
            ],
            prerequis: ['Rep√©rage sur une droite (6e/5e)', 'Nombres relatifs'],
            materiel: ['R√®gle gradu√©e', 'papier quadrill√©']
        },
        // --- NOMBRES RATIONNELS ---
        'rationnels': {
            theme: 'Calcul num√©rique',
            titre: 'Nombres rationnels',
            contenusSynth: [
                'D√©finition d‚Äôun nombre rationnel, ensemble ‚Ñö',
                'Diff√©rentes √©critures d‚Äôun nombre rationnel',
                'PPCM et PGCD de deux nombres (d√©composition en facteurs premiers, r√®gles de calcul)',
                'Simplification d‚Äôune fraction (utilisation du PGCD)',
                'Addition, soustraction, multiplication de deux rationnels',
                'Inverse d‚Äôun nombre rationnel',
                'Quotient de deux rationnels',
                'Puissances d‚Äôun nombre rationnel (propri√©t√©s des puissances)',
                'Comparaison de nombres rationnels (mise au m√™me d√©nominateur, PPCM)'
            ],
            strategies: [
                'Travail individuel ou en petits groupes',
                'Renforcer et clarifier les notions d√©j√† install√©es en 5e (multiples, diviseurs, d√©composition)',
                'Faire d√©couvrir par les √©l√®ves la r√®gle de calcul du PGCD'
            ],
            consignes: [
                'Introduire la m√©thode de simplification d‚Äôune fraction',
                'Renforcer l‚Äôutilisation des r√®gles de comparaison des fractions',
                'Utiliser les pr√©requis de 5e sur les op√©rations de fractions'
            ],
            evaluation: [
                'Calcul de PPCM et PGCD de deux entiers naturels',
                'Simplification et comparaison de fractions',
                'Calcul de somme, diff√©rence, produit de deux fractions, somme alg√©brique',
                'Reconnaissance d‚Äôun nombre rationnel, √©critures diverses',
                'Somme, soustraction, produit de deux rationnels',
                'Inverse d‚Äôun rationnel, quotient de deux rationnels',
                'Calculs sur les puissances d‚Äôun nombre rationnel'
            ],
            capacitesDetails: [
                { capacite: 'Reconna√Ætre un nombre rationnel', contenu: 'D√©finition d‚Äôun nombre rationnel ‚Äì Ensemble ‚Ñö des nombres rationnels ‚Äì Diff√©rentes √©critures d‚Äôun nombre rationnel' },
                { capacite: 'Lire et √©crire', contenu: '√âcriture sous forme fractionnaire, d√©cimale' },
                { capacite: 'Calculer', contenu: 'PPCM et PGCD : d√©composition en facteurs premiers, r√®gles de calcul ‚Äì Simplification d‚Äôune fraction (PGCD) ‚Äì Addition, soustraction, multiplication de deux rationnels ‚Äì Inverse d‚Äôun nombre rationnel ‚Äì Quotient de deux rationnels ‚Äì Puissances d‚Äôun nombre rationnel (propri√©t√©s)' },
                { capacite: 'Comparer', contenu: 'Comparaison de nombres rationnels ‚Äì Mise au m√™me d√©nominateur (multiples communs, PPCM)' },
                { capacite: 'Justifier/d√©montrer', contenu: 'Fractions irr√©ductibles ‚Äì Encadrement' }
            ],
            prerequis: ['Fractions (5e)', 'Multiples, diviseurs, PPCM/PGCD (5e)'],
            materiel: ['Fiches d‚Äôexercices', 'Tableaux de nombres']
        },
        // --- NOMBRES D√âCIMAUX, CALCUL APPROCH√â ---
        'decimaux-approche': {
            theme: 'Calcul num√©rique',
            titre: 'Nombres d√©cimaux, calcul approch√©',
            contenusSynth: [
                'Puissances de 10',
                '√âcriture d‚Äôun nombre d√©cimal sous la forme a √ó 10^p, a ‚àà ‚Ñ§ et p ‚àà ‚Ñ§',
                'Nombre d√©cimal d‚Äôordre n',
                'Notation scientifique d‚Äôun nombre d√©cimal',
                'Produit de nombres d√©cimaux √©crits sous forme a √ó 10^p',
                'Troncature √† n d√©cimales d‚Äôun nombre rationnel positif',
                'Approximations d√©cimales d‚Äôordre n d‚Äôun nombre rationnel positif',
                'Arrondi d‚Äôordre n d‚Äôun nombre positif',
                'Comparaison de deux nombres √©crits sous forme a √ó 10^p',
                'Encadrement d‚Äôun nombre'
            ],
            strategies: [
                'Travail individuel ou en petits groupes',
                'Faire effectuer par les √©l√®ves des calculs sur les puissances de 10 en consolidant les acquis de 5e',
                'Faire √©crire un nombre d√©cimal sous diff√©rentes formes'
            ],
            consignes: [
                'Faire d√©couvrir les techniques op√©ratoires correspondant au calcul sur les puissances de 10',
                'Proposer des situations amenant des comparaisons de nombres sous forme a √ó 10^p'
            ],
            evaluation: [
                'Calculs avec les puissances de 10',
                '√âcriture d‚Äôun nombre d√©cimal sous diff√©rentes formes (a √ó 10^p, notation scientifique)',
                'Utilisation de la forme a √ó 10^p pour calculer le produit de nombres d√©cimaux',
                'D√©termination de la troncature, des approximations d√©cimales, de l‚Äôarrondi d‚Äôordre n',
                'Comparaison de nombres √©crits sous forme a √ó 10^p'
            ],
            capacitesDetails: [
                { capacite: 'Reconna√Ætre un nombre d√©cimal', contenu: 'Puissances de 10 ‚Äì √âcriture d‚Äôun nombre d√©cimal sous la forme a √ó 10^p, a ‚àà ‚Ñ§ et p ‚àà ‚Ñ§ ‚Äì Nombre d√©cimal d‚Äôordre n ‚Äì Notation scientifique d‚Äôun nombre d√©cimal' },
                { capacite: 'Calculer/D√©terminer', contenu: 'Produit de nombres d√©cimaux √©crits sous la forme a √ó 10^p ‚Äì Troncature √† n d√©cimales d‚Äôun rationnel positif ‚Äì Approximations d√©cimales d‚Äôordre n ‚Äì Arrondi d‚Äôordre n' },
                { capacite: 'Comparer', contenu: 'Comparaison de deux nombres √©crits sous la forme a √ó 10^p ‚Äì Encadrement d‚Äôun nombre' }
            ],
            prerequis: ['Puissances de 10 (5e)', 'Nombres d√©cimaux'],
            materiel: ['Calculatrice', 'Fiches d‚Äôexercices']
        },
        // --- CALCUL SUR LES EXPRESSIONS ALG√âBRIQUES ---
        'expressions-algebriques': {
            theme: 'Programme de calcul, calcul litt√©ral',
            titre: 'Calcul sur les expressions alg√©briques',
            contenusSynth: [
                'D√©finition d‚Äôune expression alg√©brique',
                'Produits remarquables : (a+b)¬≤, (a-b)¬≤, (a+b)(a-b)',
                'D√©veloppement, r√©duction, factorisation (utilisation des produits remarquables)',
                'Calcul de la valeur num√©rique d‚Äôune expression alg√©brique pour une valeur donn√©e'
            ],
            strategies: [
                'Travail individuel ou en petits groupes',
                'Partir de situations pouvant d√©boucher sur des expressions alg√©briques ; exemples de programmes de calcul',
                'Proposer des situations simples permettant de d√©couvrir les produits remarquables'
            ],
            consignes: [
                'Proposer des situations reposant sur des programmes de calcul faisant appel aux calculs sur les expressions alg√©briques'
            ],
            evaluation: [
                'Reconnaissance d‚Äôune expression alg√©brique, d‚Äôun produit remarquable',
                'Calculs sur les expressions alg√©briques : d√©veloppement, factorisation, valeur num√©rique'
            ],
            capacitesDetails: [
                { capacite: 'Reconna√Ætre', contenu: 'D√©finition d‚Äôune expression alg√©brique ‚Äì Produits remarquables : (a+b)¬≤ ; (a-b)¬≤ ; (a+b)(a-b)' },
                { capacite: 'Calculer', contenu: 'D√©veloppement, r√©duction, factorisation (utilisation des produits remarquables) ‚Äì Calcul de la valeur num√©rique d‚Äôune expression alg√©brique pour une valeur donn√©e de la variable' },
                { capacite: 'Justifier une propri√©t√©, un programme de calcul', contenu: '√âquivalence de deux programmes de calcul ‚Äì D√©monstration d‚Äôune propri√©t√©' }
            ],
            prerequis: ['Calcul litt√©ral (5e)', 'Distributivit√©'],
            materiel: ['Fiches d‚Äôexercices', 'Calculatrice']
        },
        // --- √âQUATIONS ‚Äì IN√âQUATIONS ---
        'equations-inequations': {
            theme: 'Programme de calcul, calcul litt√©ral',
            titre: '√âquations ‚Äì In√©quations',
            contenusSynth: [
                'Notion d‚Äô√©quation, d‚Äôin√©quation',
                '√âquation du type ax + b = 0 dans ‚Ñö',
                'In√©quations de types ax + b < 0, ax + b > 0 dans ‚Ñö',
                'R√®gles de transformation',
                'Probl√®mes concrets se ramenant √† une √©quation du type ax + b = 0 dans ‚Ñö'
            ],
            strategies: [
                'Travail individuel ou en petits groupes',
                'Partir de situations pouvant d√©boucher sur des √©quations et in√©quations dans ‚Ñö',
                'Proposer des situations simples de mise en √©quation et demander aux √©l√®ves de les r√©soudre'
            ],
            consignes: [
                'L‚Äôensemble solution sera toujours pr√©sent√© en compr√©hension : "tout nombre inf√©rieur √† 2 est solution"',
                'Proposer des situations simples de mise en √©quation'
            ],
            evaluation: [
                'Identification : √©quations du type ax + b = 0 dans ‚Ñö, in√©quations ax+b < 0, ax+b > 0 dans ‚Ñö',
                'R√©solution d‚Äô√©quations de type ax + b = 0, d‚Äôin√©quations ax+b < 0, ax+b > 0',
                'R√©solution de probl√®mes concrets par mise en √©quation'
            ],
            capacitesDetails: [
                { capacite: 'Reconna√Ætre une √©quation, une in√©quation', contenu: 'Notion d‚Äô√©quation, d‚Äôin√©quation ‚Äì Equation du type ax + b = 0 dans ‚Ñö ‚Äì In√©quations de types ax + b < 0, ax + b > 0 dans ‚Ñö' },
                { capacite: 'R√©soudre', contenu: '√âquations se ramenant au type ax + b = 0 (r√®gles de transformation) ‚Äì In√©quations de types ax + b < 0, ax + b > 0 (r√®gles de transformation) ‚Äì Probl√®mes concrets se ramenant √† une √©quation ax + b = 0 dans ‚Ñö' },
                { capacite: 'Justifier', contenu: 'Solutions d‚Äôune √©quation ou d‚Äôune in√©quation' }
            ],
            prerequis: ['Op√©rations sur les relatifs', '√âquations (5e)'],
            materiel: ['Fiches de probl√®mes']
        },
        // --- PROPORTIONNALIT√â (4e) ---
        'proportionnalite-4e': {
            theme: 'Organisation des donn√©es',
            titre: 'Proportionnalit√©',
            contenusSynth: [
                'Situations de proportionnalit√© √† partir de probl√®mes concrets',
                'Tableaux de proportionnalit√©, graphiques',
                'Coefficient de proportionnalit√©',
                'Propri√©t√© des proportions : a/b = c/d √©quivaut √† ad = bc'
            ],
            strategies: [
                'Travail individuel ou en petits groupes',
                'Renforcer les acquis des classes de 6e et 5e',
                'M√©thode d√©monstrative ; travail individuel'
            ],
            consignes: [
                'Proposer des situations faisant appel √† la propri√©t√© des proportions et √† l‚Äôusage des coefficients'
            ],
            evaluation: [
                'Reconnaissance des situations de proportionnalit√©, tableaux, graphiques',
                'Calculs de grandeurs √† l‚Äôaide de diverses m√©thodes (coefficient, tableaux, propri√©t√© des proportions)',
                'R√©solution de probl√®mes de proportionnalit√© dans des contextes divers'
            ],
            capacitesDetails: [
                { capacite: 'Reconna√Ætre une situation de proportionnalit√©', contenu: 'Situations de proportionnalit√© √† partir de probl√®mes concrets ‚Äì Tableaux de proportionnalit√© ‚Äì Graphiques' },
                { capacite: 'Calculer des grandeurs', contenu: 'Coefficient de proportionnalit√© ‚Äì Propri√©t√© des proportions : a/b = c/d √©quivaut √† ad = bc' },
                { capacite: 'R√©soudre des probl√®mes de proportionnalit√©', contenu: 'Situations de proportionnalit√© dans des contextes divers' }
            ],
            prerequis: ['Proportionnalit√© (6e/5e)', 'Produit en croix'],
            materiel: ['Tableaux, graphiques']
        },
        // --- STATISTIQUES ---
        'statistiques': {
            theme: 'Organisation des donn√©es',
            titre: 'Statistiques',
            contenusSynth: [
                'Vocabulaire de la statistique',
                'D√©pouillement d‚Äôenqu√™te',
                'Tableau des effectifs (effectif d‚Äôune modalit√©)',
                'Tableau des fr√©quences (fr√©quence d‚Äôune modalit√©)',
                'Effectifs, fr√©quences, moyenne',
                'Diagrammes √† bandes, en b√¢tons, circulaire'
            ],
            strategies: [
                'Travail en petits groupes',
                'Faire appel √† diverses situations conduisant √† l‚Äôorganisation, √† la pr√©sentation et au traitement de donn√©es statistiques'
            ],
            consignes: [
                'Faire travailler les √©l√®ves sur les programmes de construction de diagrammes',
                'Proposer des situations faisant appel au calcul des effectifs, fr√©quences, moyenne'
            ],
            evaluation: [
                'Reconnaissance d‚Äôune s√©rie statistique',
                'Construction de divers tableaux (effectifs, fr√©quences)',
                'Calculs des effectifs, fr√©quences, moyenne',
                'Construction de diagrammes (√† bandes, en b√¢tons, circulaire)'
            ],
            capacitesDetails: [
                { capacite: 'Pr√©senter et organiser des donn√©es', contenu: 'Vocabulaire de la statistique ‚Äì D√©pouillement d‚Äôenqu√™te ‚Äì Tableau des effectifs ‚Äì Tableau des fr√©quences' },
                { capacite: 'Calculer des grandeurs', contenu: 'Effectifs, fr√©quences, moyenne' },
                { capacite: 'Construire des diagrammes', contenu: 'Diagrammes √† bandes, en b√¢tons, circulaire' }
            ],
            prerequis: ['Proportionnalit√©', 'Pourcentages'],
            materiel: ['Donn√©es statistiques', 'rapporteur (diagramme circulaire)']
        }
    };

    // --- Initialisation et fonctions ---
    const select = document.getElementById('leconSelect');
    const dureeInput = document.getElementById('dureeField');
    const dateInput = document.getElementById('dateField');
    const btn = document.getElementById('btnGenerer');
    const ficheDiv = document.getElementById('ficheGeneree');
    const contenuFiche = document.getElementById('contenuFiche');

    const today = new Date().toISOString().split('T')[0];
    dateInput.value = today;

    select.addEventListener('change', function() {
        if (lecons[this.value]) dureeInput.value = '6 heures'; // valeur par d√©faut
    });

    function generer() {
        const id = select.value;
        if (!id || !lecons[id]) { alert('Veuillez s√©lectionner une le√ßon.'); return; }
        const lec = lecons[id];
        const duree = dureeInput.value || '6 heures';
        const date = dateInput.value ? new Date(dateInput.value).toLocaleDateString('fr-FR') : '√Ä d√©terminer';

        const contenuItems = lec.contenusSynth.map(c => `<li>${c}</li>`).join('');
        const stratItems = lec.strategies.map(s => `<li>${s}</li>`).join('');
        const consignesDiv = lec.consignes.map(c => `<div class="badge-consigne">üì£ ${c}</div>`).join('');
        const evalItems = lec.evaluation.map(e => `<li>${e}</li>`).join('');
        const capRows = lec.capacitesDetails.map(item => 
            `<tr><td style="font-weight:600; width:35%;">${item.capacite}</td><td>${item.contenu}</td></tr>`
        ).join('');

        const html = `
            <div class="fiche-header">
                <h2>${lec.titre}</h2>
                <p style="font-size:clamp(0.9rem,2.5vw,1.15rem);">Th√®me : ${lec.theme} ‚Äî Dur√©e : ${duree} ‚Äî Date : ${date}</p>
            </div>
            <div class="section-guide"><h4>üìã CONTENUS (synth√®se programme)</h4><ul class="bullet-list">${contenuItems}</ul></div>
            <div class="section-guide"><h4>üß† STRAT√âGIES P√âDAGOGIQUES</h4><ul class="bullet-list">${stratItems}</ul></div>
            <div class="section-guide"><h4>üó£Ô∏è CONSIGNES</h4>${consignesDiv}</div>
            <div class="section-guide"><h4>‚úÖ √âVALUATION</h4><ul class="bullet-list">${evalItems}</ul></div>
            <div class="section-guide"><h4>üîé CAPACIT√âS & CONTENUS ASSOCI√âS</h4>
                <table class="table-cap"><tr><th>Capacit√©</th><th>Contenu (programme officiel)</th></tr>${capRows}</table>
            </div>
            <div class="section-guide"><h4>üì¶ PR√âREQUIS & MAT√âRIEL</h4>
                <p><strong>Pr√©requis :</strong> ${lec.prerequis.join(', ')}</p>
                <p><strong>Mat√©riel :</strong> ${lec.materiel.join(' ¬∑ ')}</p>
            </div>
        `;
        contenuFiche.innerHTML = html;
        ficheDiv.classList.remove('hidden');
        ficheDiv.scrollIntoView({ behavior: 'smooth' });
    }

    btn.addEventListener('click', generer);
    document.addEventListener('keydown', (e) => { if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') generer(); });

    window.exportWord = function() {
        if (ficheDiv.classList.contains('hidden')) return alert('G√©n√©rez d‚Äôabord une fiche.');
        const content = contenuFiche.innerHTML;
        const style = '<style>body { font-family: Arial; margin: 2cm; } .section-guide { margin-bottom:20px; } .table-cap { border-collapse: collapse; width:100%; } .table-cap td, .table-cap th { border:1px solid #aaa; padding:8px; } .badge-consigne { background:#fef7e5; padding:10px; border-left:6px solid #f3b33d; }</style>';
        const full = `<!DOCTYPE html><html><head><meta charset="UTF-8">${style}</head><body>${content}</body></html>`;
        const blob = new Blob([full], {type: 'application/msword'});
        const link = document.createElement('a'); link.href = URL.createObjectURL(blob); link.download = 'Fiche_4e_guide.doc'; link.click();
    };
    window.resetFiche = function() {
        ficheDiv.classList.add('hidden');
        select.value = '';
        dureeInput.value = '6 heures';
        dateInput.value = today;
    };
})();
</script>
</body>
</html>
